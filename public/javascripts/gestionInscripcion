$(document).ready(function () {
    $('.btn-inscribirse').click(function (event) {
        event.preventDefault(); 
        
        const eventoId = $(this).data('evento-id'); 
        const url = `/evento/inscribirse/${eventoId}`; 
        // Realizar la petición AJAX
        $.ajax({
            url: url,
            type: 'POST',
            success: function (response) {
                // Mostrar un mensaje de éxito
                    Swal.fire({
                        title: "Felicidades",
                        text: response.message,
                        icon: "success",
                        confirmButtonText: "OK"
                    }).then(() => {
                        window.location.href = '/misEventos/misInscripciones';
                    });
                },
                error: function (xhr) {
                    // Manejar errores y mostrar mensajes
                    if (xhr.status === 400) {
                        Swal.fire(xhr.responseJSON.message || 'Ya estás inscrito o en la cola.');
                    } else {
                        Swal.fire('Ocurrió un error al intentar inscribirte. Inténtalo nuevamente.');
                    }
                }
            });
        });
    });
    